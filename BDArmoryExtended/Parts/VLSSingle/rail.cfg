PART
{
	// Kerbal Space Program - Part Config
	//
	//

	// --- general parameters ---
	name = bahaVLSSingle
	module = Part
	author = SuicidalInsanity

	// --- asset parameters ---
	mesh = SingleVLS.mu
	rescaleFactor = 1


	// --- node definitions ---
	node_attach = 0.0, 0.45, 0, 0, 1, 0, 0
	//node_stack_bottom = 0.0, -2.5, 0.0, 0.0, -1.0, 0.0, 1
	node_stack_rail = 0, 0, 2.56, 0, 1, 0, 0
	// --- editor parameters ---
	TechRequired = precisionEngineering
	entryCost = 10000
	cost = 2000
	category = none
	bdacategory = Missile turrets
	subcategory = 0
	
	title = #loc_BDArmory_part_VLScellsingle_title 
	manufacturer = #loc_BDArmory_agent_title  //Bahamuto Dynamics
	description = #loc_BDArmory_part_VLScellsingle_desc// A 4-cell Vertical Launch System assembly. Attach a missile to the top node to load the launcher with that type of missile. Missiles sold separately.
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,1,1
	
	// --- standard part parameters ---
	mass = 1
	dragModelType = default
	maximum_drag = 0.01
	minimum_drag = 0.01
	angularDrag = 2
	crashTolerance = 60
	maxTemp = 3600
	bulkheadProfiles = srf
	tags = #loc_BDArmory_part_VLScell_tags

	MODULE
	{
		name = MissileLauncher

		shortName = VLS
		thrust = 55 //Used by Weaponmanager for selection, doesn't need to mirror submunition
		guidanceActive = true
		maxTurnRateDPS = 35// This + thrust used for Weapon selection, 
		optimumAirspeed = 1372 //used to perform DLZ checks, which controls when it will be launched
		missileType = missile
		homingType = aam //subMunition homing type

		targetingType = radar
		activeRadarRange = 30000
		maxOffBoresight = 1026 //ensure 360deg FoV (boresight val used by AI is 0.35 - 0.85x listed value)
		uncagedLock = false  
		minStaticLaunchRange = 2000 //set these to submunition values
		maxStaticLaunchRange = 30000 

		engageAir = true
		engageMissile = false
		engageGround = false
		engageSLW = false
	}


MODULE
{
     name = MultiMissileLauncher
	deployAnimationName = VLSDeploy
	deploySpeed = 0.75
	launchTransformName = launchers //name of launch transforms
	subMunitionName = 
	subMunitionPath = 
	salvoSize = 1
	setSalvoSize = true //allow setting salvo size in SPH/VAB
	isMultiLauncher = true
	overrideReferenceTransform = true //use vessel forward dir instead of missile dir for targeting, 
	//override missile boresight with launcher value for determinining if missile is on target for launch
	RailNode = rail
	tntMass = 25
	permitJettison = false
	OverrideDropSettings = true
	scaleTransformName = HatchMount //transform name for model scaling
	lengthTransformName = Cells //transform name for length scaling
	Length = 1
	ignoreLauncherColliders = true //temporarily disable missile colliders to let them clear the launcher, for large-scale VLS or similar. -WARNING- has some effect on missile flight, do not use with launchers firing preset ordinance

}

MODULE
{
	name = ModuleMissileRearm
	reloadTime = 60
	AccountForAmmo = true
	MissileName = 
	ammoCount = 1
	maxAmmo = 4
}

}
