PART
{
	// Kerbal Space Program - Part Config
	// 
	// 
	// --- general parameters ---
	name = bahaSingleGMLR
	module = Part
	author = Suicidalinsanity

	// --- asset parameters ---
	mesh = Model.mu
	rescaleFactor = 1

	// --- node definitions ---
	node_attach = 0.0, -0.12, 0, 0, -1, 0, 0
	node_stack_bottom = 0.0, -0.12, 0, 0, -1, 0, 2
	//node_stack_rail = 0, 1, 0, 0, -1, 0, 0
	node_stack_rail = 0, 1, 0, 0, 0, 1, 0
	// --- editor parameters ---
	TechRequired = precisionEngineering
	entryCost = 8500
	cost = 4000
	category = none
	subcategory = 0
	bdacategory = Missile turrets
	title = #loc_BDArmory_part_SGMLR_title 
	manufacturer = #loc_BDArmory_agent_title
	description = #loc_BDArmory_part_SGMLR_desc 
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,0,1

	// --- standard part parameters ---
	mass = 0.35
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2
	crashTolerance = 60
	maxTemp = 3600

	bulkheadProfiles = srf, size1

	stagingIcon = SOLID_BOOSTER

	MODULE
	{
		name = ModuleTurret
		turretID = 0
		yawTransformName = Mount
		pitchTransformName = pitchTransform
		
		pitchSpeedDPS = 75
		yawSpeedDPS = 60
		
		minPitch = -10
		maxPitch = 75
		yawRange = 360
		
		smoothRotation = true
		smoothMultiplier = 10
	}
	MODULE
	{
		name = MissileTurret
		turretID = 0
		finalTransformName = missileTransform	
		deployBlocksReload = true
		deployBlocksYaw = false
		deployBlocksPitch = true
		deployAnimationName = SingleGMLR_Reload
		startsDeployed = true

	}

	MODULE
	{
		name = MissileLauncher
		missileType = launcher
	}

	MODULE
	{
		name = MultiMissileLauncher
		launchTransformName = launchers
		//reloadAnimName = SingleGMLR_Reload
		subMunitionName = 
		subMunitionPath = 
		isClusterMissile = false
		isMultiLauncher = true
		useSymCounterpart = false
		overrideReferenceTransform = false
		tntMass = 0
		salvoSize = 1
		offset = 0
		OverrideDropSettings = true
		offsetMax = 2 
		ignoreLauncherColliders = false
		adjustMissileVOffset = true
	}

	MODULE
	{
		name = ModuleMissileRearm
		reloadTime = 10
		AccountForAmmo = true
		MissileName = 
		railAmmo = 1
		maxAmmo = 1
	}

	MODULE
	{
        name = ModuleRadar
		radarTransformName = radarTransform
		turretID = 1	
        radarName = GMLR FCS Radar	
        rwrThreatType = 0
        resourceDrain = 0.45				
        omnidirectional = false
        directionalFieldOfView = 75
        scanRotationSpeed = 360
        showDirectionWhileScan = false		
        maxLocks = 1				
        canScan = true
        canLock = true	
        canTrackWhileScan = false
        canReceiveRadarData = true
        radarGroundClutterFactor = 0.1
                                
        radarDetectionCurve
        {
		key = 0 0 0 0
		key = 7 2 1.245038 1.245038
		key = 10 7
		key = 15 20
        }
        radarLockTrackCurve
        {
           key = 0 0 0 0
		key = 7 1 1.245038 1.245038
		key = 10 5
		key = 15 15
        }
	}
	
	MODULE
	{
		name = ModulePartVariants
		baseVariant = Radar
		useMultipleDragCubes = False
		VARIANT
		{
			name = Bare
			displayName = No Radar
			themeName = Bare
			primaryColor = #999999
			secondaryColor = #999999
			GAMEOBJECTS
			{
				Radar = false
				Radar.collider = false
				MountCaps = true
				
				// Always On
				Base = true
				Base.collider = true
				Mount = true
				Arm2.collider = true
				Arm1.collider = true
				RHatch = true
				LHatch = true
				Arm = true
				Arm.collider = true
			}
		}
		VARIANT
		{
			name = Radar
			displayName = Illuminator Radar
			themeName = Shroud
			primaryColor = #999999
			secondaryColor = #999999
			GAMEOBJECTS
			{
				Radar = true
				Radar.collider = true
				MountCaps = false
				
				// Always On
				Base = true
				Base.collider = true
				Mount = true
				Arm2.collider = true
				Arm1.collider = true
				RHatch = true
				LHatch = true
				Arm = true
				Arm.collider = true
			}
		}
	}
}


